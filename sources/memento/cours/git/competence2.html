
<h2>Instructions Git</h2>


<!-- PRINCIPALES INSTRUCTIONS -->

<h3 id="instructionGit">Push / Pull</h3>

<p>La structure Git est composée de 3 zones locales :</p>
<ul>
<li>le working directory</li>
<li>l'index ou stage qui regroupe tous les fichiers modifiés qu'on souhaite 
voir apparaître dans le prochain commit</li>
<li>le dépôt local</li>
</ul>

<p>La commande add permet d'ajouter des fichiers du working directory vers l'index. La commande
commit permet d'enregistrer les modifications de l'index vers le dépôt local.
La commande push permet de mettre à jour le dépôt distant grâce au dépôt local, 
alors que la commande pull permet de récupérer l'état du dépôt distant vers le 
dépôt local afin de travailler dessus.</p>

<p>Notons que les commit sont réalisés sur la branche courante.</p>

<p>Pour ajouter un fichier local à l'index : </p>
  <pre><code class="language-svg">git add monFichier</code></pre>

<p>Pour supprimer un fichier local de l'index après l'avoir rajouté sans l'avoir commité :</p>
  <pre><code class="language-svg">git reset HEAD --nomFichier</code></pre>

<p>Pour ajouter rapidement à l'index sans distinction de fichier : </p>
  <pre><code class="language-svg">git add .</code></pre>

<p>On travaille normalement dans le repository local. Pour synchroniser le remote repository <em>master</em> avec le repository local <em>origin</em>, on commence par rajouter dans l'index chaque fichier modifié (add), on ajoute les dernières modifications dans l'historique des modifications (commit) et finalement on insère le fichier validé vers le remote repository (push) :</p>
<pre><code class="language-svg">git add .
git commit -m "monCommentaire"
git push origin master</code></pre>

<p>Notons que le -m dans le commit permet d'en modifier le message.</p>

<p>Il n'est pas nécessaire de définir le nom des fichiers concernés car tous les fichiers indexés et non validés vont être pris en compte par le commit. <em>Attention</em>, chaque étape est nécessaire. On peut toutefois regrouper les étapes du rajout à l'index et du commit :</p>
<pre><code class="language-svg">git commit -a -m "monCommentaire"
  git push origin master</code></pre>
<p>Attention, ici le <strong>-a</strong> ne correspond pas à l'instruction <strong>add</strong>, mais à la prise en compte de tous les fichiers <em>all</em>.</p>
<p>On remarque qu'un commit avec <em>Git</em> est local jusqu'à ce qu'on push ce commit sur le serveur.</p>

<p><em>Attention</em>, les fichiers modifiés mais non entrés dans l'index ne seront pas synchronisés.</p>

<p>Pour modifier le dernier message du commit (dans le cas par exemple où une erreur s'est glissée) :</p>
  <pre><code class="language-svg">git commit --amend -m "nouveau message de commit"</code></pre>

<p>Pour rajouter un fichier oublié alors que le commit a déjè été réalisé, sans modifier le message du commit</p>
<pre><code class="language-svg">git add fichierOublie.txt
git commit --amend --no-edit</code></pre>

<p>Pour récupérer un fichier de travail :</p>
  <pre><code class="language-svg">git pull monFichier master</code></pre>

<p>Ou de façon plus générale :</p>
  <pre><code class="language-svg">git pull origin master</code></pre>
<p>Dans ce cas, origin correspond au remote repository.</p>

<p>Il est possible à tout moment de voir l'état des fichiers (ceux qui ont été modifiés 
mais pas encore committés par exemple) en exécutant</p>
<pre><code class="language-svg">git status</code></pre>
