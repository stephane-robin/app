<h2>Structure du code Python</h2>

<div class="bloc">
        <div class="gauche">
          <img src="../../images/memento/python.jpg" width="80" height="80" alt="Python">
            
        </div>

        <div class="droite">
            <p>Python est un langage de programmation interprété dont la philosophie repose sur la simplicité du code et l'implémentation de bonnes pratiques. Rien n'est fait pour empêcher le programmeur de mener une action, même si elle semble inappropriée. Python est particulièrement utilisé dans les environnements scientifiques et pour la manipulation de données.</p>
        </div>
    </div>
  

  <p>Les fichiers Python ont pour extension <em>.py</em> et sont appelés des modules. Contrairement à Java, ceux-ci peuvent
  contenir plusieurs classe (et non pas une seule), ou constituer un script sans aucune classe.</p>

  <p>Les projets Python sont donc organisés en modules, suivant une architecture objet ou procédurale. Dans le cas d'une architecture objet, ces modules peuvent être constituée d'une ou plusieurs classes, contrairement à Java qui impose un fichier par classe.
    Dans le cas d'une architecture procédurale, chaque module peut contenir un ensemble de code ou un programme autonome.</p>

  <p>Les commentaires sont indiqués à l'aide de <strong>#</strong> pour une seule ligne ou <strong>"""   """</strong> pour plusieurs lignes en début de fonction ou de module.</p>

  <p>En Python, les blocs ne sont pas encadrés par des <strong>{}</strong> comme dans la plupart des langages, ce sont les indentations qui indiquent à l'interpréteur le début et la fin d'un bloc. En conséquence, il est important de respecter toujours la même procédure d'indentation. On utilisera 4 espaces plutôt qu'une tabulation pour exprimer une indentation, ceci afin d'assurer une bonne portabilité du code.</p>

  <p>Les mots clés Python réservés, donc à ne pas utiliser comme nom de variable ou de fonction sont les suivants: <em>and, or, del, from, none, as, global, nonlocal, try, assert, else, if, elif, not, while, for, except, import, with, class, true, false, in, pass, yield, continue, break, finally, is, raise, def, lambda, return</em>.</p>


<p>Lorsqu'on utilise Python sous un système Windows, préciser l'encodage peut s'avérer nécessaire. Par ailleurs, il faut mettre en pause le programme en fin d'exécution afin de pouvoir lire le résultat.</p>
<pre><code class="language-svg"># -*-coding:Latin-1 -*
import os
# le programme se trouve ici
os.system("pause")</code></pre>




<!-- ======== LES METHODES DE COMMUNICATION ========= -->

<h3 id="py_communiquer">Communiquer avec l'utilisateur</h3>

<h4>Afficher une valeur</h4>

<p>Commençons par le traditionnel "Hello world". Contrairement à beaucoup de langages, Python n'utilise pas de <strong>;</strong> à la fin de chaque instruction. Il le remplace par un retour à la ligne. Notons que les accolades symbolisant un bloc sont remplacées par une indentation.</p>
<pre><code class="language-javascript">print("Hello World");</code></pre>

<p>A noter que <em>print</em> entraîne systématiquement un retour à la ligne, contrairement à certains autres langages où il faut rajouter ln
  pour aller à la ligne. Pour éviter un retour à la ligne, on utilise l'instruction print("hello", end = "")</p>

<p>La fonction print() permet d'afficher une chaîne de caractères et accepte les paramètres suivants :</p>
  <ul>
<li>end='-' pour préciser ce qu'il faut afficher à la fin de la chaine ou pour afficher sur une même ligne avec end=''</li>
<li>sep='-' pour préciser le séparateur entre plusieurs chaînes.</li>
</ul>

<p>Python accepte les template litteral, suivant trois formats du plus ancien au plus moderne :</p>

<pre><code class="language-python">name = "Bob"
"Hello %s" % name</code></pre>

<pre><code class="language-python">name = "Bob"
"Hello {}".format(name)</code></pre>

<pre><code class="language-python">name = "Bob"
f"Hello {name}"</code></pre>

<p>L'intérêt du template litteral, outre sa structure simple, est qu'il n'est pas nécessaire de transformer name en
string dans le cas où il s'agit d'un float pour pouvoir le concaténer avant de l'afficher. Cela simplifie donc la
compréhension du code.</p>


<h4>Saisie d'une valeur par l'utilisateur</h4>

<pre><code class="language-python">nom = input("Quel est votre nom ?");
print("Bonjour ",nom);</code></pre>

  <p>Attention, la valeur saisie est systématiquement de type <em>String</em>. Il convient donc de la transformer en nombre le cas échéant.</p>


<pre><code class="language-python">age = int(input("Quel est votre âge ?"))
print("Dans deux ans vous aurez ", age+2)</code></pre>


<!-- opérations et comparaisons -->

<h3>Opérations et comparaisons</h3>

      <h4> Les principales opérations </h4>

      <table>
        <tr><th>Opérations</th><th>Symboles</th></tr>
        <tr><td>addition</td><td>+</td></tr>
        <tr><td>soustraction</td><td>-</td></tr>
        <tr><td>multiplication</td><td>*</td></tr>
        <tr><td>division</td><td>/</td></tr>
        <tr><td>modulo</td><td>%</td></tr>
        <tr><td>partie entière d'une division</td><td>//</td></tr>
        <tr><td>concaténation</td><td>+</td></tr>
        <tr><td>affectation</td><td>=</td></tr>
        <tr><td>égalité</td><td>==</td></tr>
        <tr><td>incrémentation</td><td>++</td></tr>
        <tr><td>décrémentation</td><td>--</td></tr>
        <tr><td>ET logique</td><td>and</td></tr>
        <tr><td>OU logique</td><td>or</td></tr>
        <tr><td>NON logique</td><td>! ou  not</td></tr>
      </table>
    
      <h4>Les opérateurs de comparaison</h4>
    
      <table>
        <tr><th>Signification</th><th>Opérateurs</th></tr>
        <tr><td>égalité</td><td>==</td></tr>
        <tr><td>égalité (valeur et type)</td><td>===</td></tr>
        <tr><td>différent</td><td>!=</td></tr>
        <tr><td>inférieur</td><td><</td></tr>
        <tr><td>inférieur ou égal</td><td><=</td></tr>
        <tr><td>supérieur</td><td>></td></tr>
        <tr><td>supérieur ou égal</td><td>>=</td></tr>
      </table>
  

<!-- Exécution à partir du terminal -->

  <h3>Exécution à partir du terminal</h3>

  <p>Un module en Python est un fichier contenant du code avec l'extension .py. Il peut s'agir d'un code autonome ou d'un ensemble de scripts.</p>
    <p>L'exécution d'un module Python en utilisant le bash s'effectue de la façon suivante à partir du dossier contenant le module :</p>
    <pre><code class="language-svg">python monModule.py</code></pre>

    <p>L'exécution d'un package en utilisant le bash s'effectue de la façon suivante à partir du dossier courant :</p>
    <pre><code class="language-svg">python -m monPackage</code></pre>

  <p>Pour connaître la version de Python utilisée : </p>
  <pre><code class="language-svg">python --version</code></pre>

  <p>Pour connaître le chemin vers le dossier Python :</p>
  <pre><code class="language-svg">which python</code></pre>

  <p>Il est souvent nécessaire de placer en début de code le chemin absolu de l'interpréteur (ici 3.7 représente la version de Python), et de préciser l'encodage UTF-8 :</p>
  <pre><code class="language-svg">#!/usr/bin/env python3
# -*-coding:Utf-8 -*</code></pre>

  <p>L'installation de l'éditeur JetBrains PyCharm-community se fait sur Linux grâce à l'instruction bash :</p>
  <pre><code class="language-svg">sudo snap install pycharm-community --classic</code></pre>
  <p>Lors de la création d'un projet dans PyCharm, il faut spécifier l'environnement dans lequel on travaille (par exemple virtualenv ou conda) et définir le chemin de l'interpréteur Python lié à cet environnement.</p>


  



<!------LES PACKAGES------------->

  <h3 id="py_package">Les Packages</h3>

<!-- ===== IMPORTER UN PACKAGE ===== -->

<h4 id="py_import_package">Installer et importer un package</h4>

  <p>Pour installer un package, si la version de Python par défaut est Python3, on utilise l'instruction pip en ligne de
    commande, si la version de Python par défaut est Python2, on utilise l'instruction pip3 en ligne de commande pour forcer
    l'ordinateur à pointer vers Python3 :</p>
  <pre><code class="language-python">pip install nom_package</code></pre>

  <p>De la même façon, pour désinstaller un package :</p>
  <pre><code class="language-python">pip uninstall nom_package</code></pre>

  <p>Ensuite, pour importer un package dans le code, on peut utiliser l'instruction :</p>
  <pre><code class="language-python">import nomPackage</code></pre>

  <p>Dans ce cas, il faudra appeler chaque fonction en utilisant <em>nomPackage</em> comme préfixe.</p>
  <pre><code class="language-python">nomPackage.maFonction(5)</code></pre>

  <p>Pour éviter cela, On peut importer un package en précisant un préfixe :</p>
  <pre><code class="language-python">import nomPackage as p</code></pre>

<p>Chaque fonction du package sera ensuite appelée avec ce même préfixe <em>np</em>.</p>
  <pre><code class="language-python">p.maFonction(5)</code></pre>

<p>Lorsqu'il n'y a aucun risque de confusion entre les fonctions de différents packages, on peut utiliser l'instruction
  suivante qui évite d'ajouter un préfixe à chaque instruction. C'est pratique dans un script, mais déconseillé dans un
  code complexe pour réduire les erreurs et accroître la scalabilité du code.</p>

  <pre><code class="language-python">from nomPackage import *</code></pre>

  <p>Pour importer uniquement un module d'un package, par exemple :</p>

  <pre><code class="language-python">import matplotlib.pyplot as plt</code></pre>



  <h4>Particularité Python pour l'importation d'un package</h4>

  <p>Pour éviter qu'une méthode main() ne se lance à l'importation, on peut utiliser une condition qui lance la méthode uniquement si elle est appelée :</p>

  <pre><code class="language-python">if __name__ == "__main__":
  main()</code></pre>

  <p>Parmi les packages importants, on trouve Matplotlib utilisé pour les graphiques, Numpy utilisé pour manipuler des séries de nombres, Pandas utilisé pour utiliser des données sous une forme de tableur.</p>



    <!-- ===== LES MODULES ESSENTIELS  ===== -->

    <h4>Les principales librairies</h4>

    <p>Python étant parcitulièrement utilisé dans le milieu scientifique et
      mathématique, les librairies math, numpy et random sont essentielles</p>

    <h4>La librairie random</h4>

    <pre><code class="language-python">import random as rd</code></pre>

    <p>La méthode .random() génère un nombre pseudo-aléatoire compris entre 0 et 1.</p>

    <p>La méthode .randrange(5, 10, 2) génère un nombre pseudo-aléatoire compris entre 5 et 10 exclus, avec un écart de 2
      entre chaque valeur. Sans le 3ème paramètre, la valeur par défaut est 1.</p>

    <p>La méthode <strong>randint(4, 7)</strong> renvoie un entier compris entre 4 et 7 inclus.</p>

    <p>Pour remplir une liste de 10 éléments à l'aide de valeurs comprises entre 0 et 50 prises au hasard :</p>
    <pre><code class="language-python">liste = (rd.randrange(50) for i in range(10))</code></pre>

    <p>Pour remplir un tableau de 10 éléments à l'aide de valeurs comprises entre 0 et 50 prises au hasard :</p>
    <pre><code class="language-python">tableau = [rd.randrange(50) for i in range(10)]</code></pre>

    <p>La méthode choice(["a", "b", "c"]) renvoie un élément choisit au hasard de la liste ["a", "b", "c"].</p>

    <p>La méthode shuffle(liste) mélange les éléments d'une liste en modifiant cette liste. Elle ne renvoie rien.</p>


    <h4>La librairie math</h4>

    <pre><code class="language-python">from math import *</code></pre>

    <table>
      <tr><th>Instruction</th><th>Effet obtenu</th></tr>
      <tr><td>floor(x)</td><td>plus grand entier inférieur ou égal à x</td></tr>
      <tr><td>ceil(x)</td><td>plus petit entier supérieur ou égal à x</td></tr>
      <tr><td>trunc(x)</td><td>troncature de x</td></tr>
      <tr><td>fabs(x)</td><td>valeur absolue de x</td></tr>
      <tr><td>factorial(x)</td><td>factorielle de x. Lève une exception ValueError si x n'est pas entier ou si x est négatif</td></tr>
      <tr><td>fsum(maListe)</td><td>valeur exacte de la somme des valeurs d'une liste</td></tr>
      <tr><td>gcd(a, b)</td><td>pgdc de a et b</td></tr>
      <tr><td>exp(x)</td><td>exponentielle de x</td></tr>
      <tr><td>log1p(x)</td><td>logarithme en base e de x</td></tr>
      <tr><td>pow(x, y)</td><td>x puissance y, renvoie un float</td></tr>
      <tr><td>x**y</td><td>x puissance y, renvoie un int</td></tr>
      <tr><td>sqrt(x)</td><td>racine carrée de x</td></tr>
      <tr><td>acos(x)</td><td>arc cosinus de x en radians</td></tr>
      <tr><td>asin(x)</td><td>arc sinus de x en radians</td></tr>
      <tr><td>atan(x)</td><td>arc tangente de x en radians</td></tr>
      <tr><td>cos(x)</td><td>cosinus de x pour x en radians</td></tr>
      <tr><td>sin(x)</td><td>sinus de x pour x en radians</td></tr>
      <tr><td>tan(x)</td><td>tangente de x pour x en radians</td></tr>
      <tr><td>degrees(x)</td><td>convertit l'angle x de radians en degrés</td></tr>
      <tr><td>radians(x)</td><td>convertit l'angle x de degrés en radians</td></tr>
      <tr><td>acosh(x)</td><td>arc cosinus hyperbolique de x</td></tr>
      <tr><td>asinh(x)</td><td>arc sinus hyperbolique de x</td></tr>
      <tr><td>atanh(x)</td><td>arc tangente hyperbolique de x</td></tr>
      <tr><td>cosh(x)</td><td>cosinus hyperbolique de x</td></tr>
      <tr><td>sinh(x)</td><td>sinus hyperbolique de x</td></tr>
      <tr><td>tanh(x)</td><td>tangente hyperbolique de x</td></tr>
      <tr><td>pi</td><td>pi = 3,14</td></tr>
      <tr><td>e</td><td>e = 2,71</td></tr>
    </table>

    <p>En Python les angles sont exprimés en radian par défaut.</p>

    <p>pi et e sont les deux constantes mathématiques connues du package math.</p>


    <h4>La librairie fractions</h4>

    <pre><code class="language-python">from fractions import Fraction</code></pre>

    <p>Un objet de type Fraction est défini de la façon suivante : Fraction(numérateur, dénominateur). Une fois définie,
      une fraction est affichée systématiquement sous sa forme simplifiée.</p>

    <p>La classe Fraction accepte les opérations élémentaires +, -, *, / et permet de conserver une excellente précision de calcul.</p>


    <h4>La librairie Numpy</h4>

    <pre><code class="language-python">import numpy as np</code></pre>

    <p>Numpy est utilisé pour manipuler des séries de nombres. En particulier, il permet de traiter des listes de nombres comme des tableaux de nombres.</p>

    <pre><code class="language-python">liste_numpy = np.array([10, 20, 30])
liste_divisee = liste_numpy/2</code></pre>

    <p>Numpy permet notamment de faire la somme des éléments de la liste :</p>
    <pre><code class="language-python">liste_numpy.sum()</code></pre>


    <h4>La librairie MatPlotLib</h4>

    <p>MatPlotLib est utilisé pour représenter des données en deux dimensions, i.e. pour créer des schémas, des graphiques
      et des spectres. Ce package comprend notamment le module Pyplot qui permet de créer des graphiques en couleur.</p>


  

  <!-- ===== PEP8 ===== -->

  <h3 id="py-pep">Respect du PEP8</h3>

  <p>Python Enhancement Proposal 8 requiert le respect des règles suivantes:</p>
  <ul>
    <li>une ligne doit contenir au maximum 80 caractères</li>
    <li>l'indentation doit contenir 4 espaces</li>
    <li>2 lignes vides au-dessus d'une classe</li>
    <li>les docstrings sont obligatoires pour les méthodes, les classes et les modules</li>
    <li>l'import d'un module ou d'un package doit se faire en début de code</li>
    <li>pas d'espace avant : mais un espace après</li>
    <li>un espace autour d'un opérateur</li>
    <li>un espace autour d'un = pour assigner une valeur à une variable</li>
    <li>pas d'espace autour d'un = pour assigner une valeur par défaut à un paramètre</li>
    <li>une instruction par ligne</li>
    <li>les commentaires sont écrits en anglais</li>
    <li>les modules s'écrivent en minuscule, avec un underscore si besoin</li>
    <li>les packets s'écrivent en minuscule sans underscore</li>
    <li>les classes ont une 1ère lettre en minuscule et peuvent avoir d'autres lettres en majuscule</li>
    <li>les méthodes s'écrivent en minuscule, avec underscore si besoin</li>
    <li>les variables s'écrivent en minuscule, avec underscore si besoin</li>
    <li>les constantes s'écrivent en majuscules, avec underscore si besoin</li>
  </ul>

  <p>PyLint est un logiciel en ligne de commande permettant d'analyser le code en fonction des standards de PEP8.</p>

  <pre>pip install pylint
pylint fichier.py // lance l'analyse de fichier.py</pre>





